function configRouter(n,e){e.otherwise("/"),n.state("manga",{url:"/manga",templateUrl:"admin-site/scripts/components/manga/MangaView.html",controller:"MangaController"})}var AdminApp=angular.module("AdminApp",["ui.router","datatables","ui.bootstrap","ui.select"]);AdminApp.config(configRouter),configRouter.$inject=["$stateProvider","$urlRouterProvider"];var Config=function(){return{apiDomain:"http://manga-backend.local/"}}();!function(){function n(n,e,a,t){function o(n,e){return this.send("GET",n,e)}function i(n,e){return this.send("POST",n,e)}function r(a,t,o){var i=e.defer(),r={method:a,url:t,timeout:i.promise,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(n){var e=[];for(var a in n)e.push(encodeURIComponent(a)+"="+encodeURIComponent(n[a]));return e.join("&")}};return"POST"==a.toUpperCase()?r.data=o:"GET"==a.toUpperCase()&&(r.params=o),n(r).then(function(n){var e=n.data;return 0==e.success&&"ER0001"==e.errorCode?void Authenticate.logout():i.resolve(n.data)}).catch(function(n){return i.reject(n)}),i.promise.abort=function(){i.resolve()},i.promise}var l={get:o,post:i,send:r};return l}angular.module("AdminApp").factory("Request",n),n.$inject=["$http","$q","$cookies","$window"]}(),function(){angular.module("AdminApp").filter("propsFilter",function(){return function(n,e){var a=[];if(angular.isArray(n)){var t=Object.keys(e);n.forEach(function(n){for(var o=!1,i=0;i<t.length;i++){var r=t[i],l=e[r].toLowerCase();if(n[r].toString().toLowerCase().indexOf(l)!==-1){o=!0;break}}o&&a.push(n)})}else a=n;return a}})}(),function(){function n(n,e,a,t,o){function i(n){o.initGrid(n)}function r(){var t=a.find(".manga-grid");p=e.open({templateUrl:"createMangaModal.html",scope:n,size:"lg",appendTo:t})}function l(){}function u(){p.dismiss()}function m(t){f=t;var o=a.find(".manga-grid");g=e.open({templateUrl:"editMangaModal.html",scope:n,appendTo:o})}function c(){console.log("update"+f)}function d(){g.dismiss()}function s(n){console.log("remove")}var p,g,f;n.persons=[],n.openEditManga=m,n.removeManga=s,n.updateManga=c,n.closeEditManga=d,n.openCreateManga=r,n.closeCreateManga=u,n.addManga=l,n.people=[{name:"Adam",email:"adam@email.com",age:12,country:"United States"},{name:"Amalie",email:"amalie@email.com",age:12,country:"Argentina"},{name:"Estefanía",email:"estefania@email.com",age:21,country:"Argentina"},{name:"Adrian",email:"adrian@email.com",age:21,country:"Ecuador"},{name:"Wladimir",email:"wladimir@email.com",age:30,country:"Ecuador"},{name:"Samantha",email:"samantha@email.com",age:30,country:"United States"},{name:"Nicole",email:"nicole@email.com",age:43,country:"Colombia"},{name:"Natasha",email:"natasha@email.com",age:54,country:"Ecuador"},{name:"Michael",email:"michael@email.com",age:15,country:"Colombia"},{name:"Nicolás",email:"nicolas@email.com",age:43,country:"Colombia"}],n.selectedAuthor=[n.people[5],n.people[4]],i(n)}angular.module("AdminApp").controller("MangaController",n),n.$inject=["$scope","$uibModal","$document","MangaService","MangaGrid"]}(),function(){function n(n,e,a,t,o){function i(n){n.dtOptions=a.newOptions().withOption("ajax",{url:u,type:"GET",data:function(n,e){n.offset=n.start,n.limit=n.length,n.search=n.search.value,n.column=n.order[0].column,n.order=n.order[0].dir}}).withDataProp("data").withOption("serverSide",!0).withPaginationType("simple_numbers").withOption("drawCallback",l.bind(null,n)),n.dtColumns=[t.newColumn("manga_name"),t.newColumn("slug"),t.newColumn("view_count"),t.newColumn("like_count"),t.newColumn("id")],n.dtColumnDefs=[o.newColumnDef(0),o.newColumnDef(1).notSortable(),o.newColumnDef(2).notSortable(),o.newColumnDef(3).notSortable(),o.newColumnDef(4).notSortable().withOption("width","20%").renderWith(function(n,e,a){return r(n)})]}function r(n){var e='<div class="action"><button type="button" class="btn btn-primary update" ng-click="openEditManga('+n+')">Edit</button> <button type="button" class="btn btn-danger remove"  ng-click="removeManga('+n+')">Remove</button></div>';return e}function l(e,a){var t=angular.element(".action");angular.forEach(t,function(a){var t=n(angular.element(a).html())(e);angular.element(a).html(t)})}var u=Config.apiDomain+"mangas",m={initGrid:i};return m}angular.module("AdminApp").factory("MangaGrid",n),n.$inject=["$compile","MangaService","DTOptionsBuilder","DTColumnBuilder","DTColumnDefBuilder"]}(),function(){function n(){function n(){console.log("get from sv")}var e={get:n};return e}angular.module("AdminApp").factory("MangaService",n),n.$inject=[]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInNoYXJlZC9SZXF1ZXN0LmpzIiwic2hhcmVkL2ZpbHRlcnMvcHJvcHNGaWx0ZXIuanMiLCJjb21wb25lbnRzL21hbmdhL01hbmdhQ29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvbWFuZ2EvTWFuZ2FHcmlkLmpzIiwiY29tcG9uZW50cy9tYW5nYS9NYW5nYVNlcnZpY2UuanMiXSwibmFtZXMiOlsiY29uZmlnUm91dGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIkFkbWluQXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRpbmplY3QiLCJDb25maWciLCJhcGlEb21haW4iLCJSZXF1ZXN0IiwiJGh0dHAiLCIkcSIsIiRjb29raWVzIiwiJHdpbmRvdyIsImdldCIsImRhdGEiLCJ0aGlzIiwic2VuZCIsInBvc3QiLCJtZXRob2QiLCJkZWZlcmVkIiwiZGVmZXIiLCJvcHRpb25zIiwidGltZW91dCIsInByb21pc2UiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwidHJhbnNmb3JtUmVxdWVzdCIsIm9iaiIsInN0ciIsInAiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsInRvVXBwZXJDYXNlIiwicGFyYW1zIiwidGhlbiIsInJlc3BvbnNlIiwic3VjY2VzcyIsImVycm9yQ29kZSIsIkF1dGhlbnRpY2F0ZSIsImxvZ291dCIsInJlc29sdmUiLCJjYXRjaCIsImVyciIsInJlamVjdCIsImFib3J0Iiwic2VydmljZSIsImZhY3RvcnkiLCJmaWx0ZXIiLCJpdGVtcyIsInByb3BzIiwib3V0IiwiaXNBcnJheSIsImtleXMiLCJPYmplY3QiLCJmb3JFYWNoIiwiaXRlbSIsIml0ZW1NYXRjaGVzIiwiaSIsImxlbmd0aCIsInByb3AiLCJ0ZXh0IiwidG9Mb3dlckNhc2UiLCJ0b1N0cmluZyIsImluZGV4T2YiLCJNYW5nYUNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkdWliTW9kYWwiLCIkZG9jdW1lbnQiLCJNYW5nYVNlcnZpY2UiLCJNYW5nYUdyaWQiLCJpbml0IiwiaW5pdEdyaWQiLCJvcGVuQ3JlYXRlTWFuZ2EiLCJwYXJlbnRFbGUiLCJmaW5kIiwiY3JlYXRlTWFuZ2FNb2RhbCIsIm9wZW4iLCJzY29wZSIsInNpemUiLCJhcHBlbmRUbyIsImFkZE1hbmdhIiwiY2xvc2VDcmVhdGVNYW5nYSIsImRpc21pc3MiLCJvcGVuRWRpdE1hbmdhIiwibWFuZ2FJZCIsImN1cnJlbnRNYW5nYUlkIiwiZWRpdE1hbmdhTW9kYWwiLCJ1cGRhdGVNYW5nYSIsImNvbnNvbGUiLCJsb2ciLCJjbG9zZUVkaXRNYW5nYSIsInJlbW92ZU1hbmdhIiwicGVyc29ucyIsInBlb3BsZSIsIm5hbWUiLCJlbWFpbCIsImFnZSIsImNvdW50cnkiLCJzZWxlY3RlZEF1dGhvciIsIiRjb21waWxlIiwiRFRPcHRpb25zQnVpbGRlciIsIkRUQ29sdW1uQnVpbGRlciIsIkRUQ29sdW1uRGVmQnVpbGRlciIsImR0T3B0aW9ucyIsIm5ld09wdGlvbnMiLCJ3aXRoT3B0aW9uIiwiTUFOR0FfTElTVF9BUEkiLCJ0eXBlIiwiZHRJbnN0YW5jZSIsIm9mZnNldCIsInN0YXJ0IiwibGltaXQiLCJzZWFyY2giLCJ2YWx1ZSIsImNvbHVtbiIsIm9yZGVyIiwiZGlyIiwid2l0aERhdGFQcm9wIiwid2l0aFBhZ2luYXRpb25UeXBlIiwiZHJhd0NhbGxiYWNrIiwiYmluZCIsImR0Q29sdW1ucyIsIm5ld0NvbHVtbiIsImR0Q29sdW1uRGVmcyIsIm5ld0NvbHVtbkRlZiIsIm5vdFNvcnRhYmxlIiwicmVuZGVyV2l0aCIsImZ1bGwiLCJyZW5kZXJBY3Rpb24iLCJidXR0b24iLCJhY3Rpb25FbGUiLCJlbGVtZW50IiwiZWxlIiwidGVtcGxhdGUiLCJodG1sIl0sIm1hcHBpbmdzIjoiQUFNQSxRQUFBQSxjQUFBQyxFQUFBQyxHQUNBQSxFQUFB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LFNBRUF1QyxHQUNBMEIsU0FBQUEsRUFHQSxPQUFBMUIsR0FkQTVDLFFBQ0FDLE9BQUEsWUFDQTRDLFFBQUEsWUFBQXVCLEdBRUFBLEVBQUFqRSxTQUFBLFdBQUEsZUFBQSxtQkFBQSxrQkFBQSx5QkNOQSxXQVFBLFFBQUFnRSxLQU9BLFFBQUF4RCxLQUNBNEUsUUFBQUMsSUFBQSxlQVBBLEdBQUE1QyxJQUNBakMsSUFBQUEsRUFHQSxPQUFBaUMsR0FYQTVDLFFBQ0FDLE9BQUEsWUFDQTRDLFFBQUEsZUFBQXNCLEdBRUFBLEVBQUFoRSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbnZhciBBZG1pbkFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiQWRtaW5BcHBcIiwgWyd1aS5yb3V0ZXInLCAnZGF0YXRhYmxlcycsICd1aS5ib290c3RyYXAnLCAndWkuc2VsZWN0J10pO1xyXG5cdEFkbWluQXBwLmNvbmZpZyhjb25maWdSb3V0ZXIpO1xyXG5cclxuXHRjb25maWdSb3V0ZXIuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ107XHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZ1JvdXRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7IFxyXG5cclxuXHRcdCRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdtYW5nYScsIHtcclxuXHRcdFx0dXJsOiAnL21hbmdhJyxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhZG1pbi1zaXRlL3NjcmlwdHMvY29tcG9uZW50cy9tYW5nYS9NYW5nYVZpZXcuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6IFwiTWFuZ2FDb250cm9sbGVyXCJcclxuXHRcdH0pO1xyXG5cdH0iLCJ2YXIgQ29uZmlnID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0YXBpRG9tYWluOiAnaHR0cDovL21hbmdhLWJhY2tlbmQubG9jYWwvJ1xyXG5cdH1cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ0FkbWluQXBwJylcclxuICAgICAgICAuZmFjdG9yeSgnUmVxdWVzdCcsIFJlcXVlc3QpO1xyXG5cclxuICAgICAgICBSZXF1ZXN0LiRpbmplY3QgPSBbJyRodHRwJywgJyRxJywgJyRjb29raWVzJywgJyR3aW5kb3cnXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gUmVxdWVzdCAoJGh0dHAsICRxLCAkY29va2llcywgJHdpbmRvdykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGdldCxcclxuICAgICAgICAgICAgICAgIHBvc3Q6IHBvc3QsXHJcbiAgICAgICAgICAgICAgICBzZW5kOiBzZW5kXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlOyBcclxuXHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0U3RvcmUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldCh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoJ0dFVCcsIHVybCwgZGF0YSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcG9zdCh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoJ1BPU1QnLCB1cmwsIGRhdGEpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNlbmQobWV0aG9kLCB1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBkZWZlcmVkLnByb21pc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ30sXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBwIGluIG9iailcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtwXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLnRvVXBwZXJDYXNlKCkgPT0gJ1BPU1QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWV0aG9kLnRvVXBwZXJDYXNlKCkgPT0gJ0dFVCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtcyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRodHRwKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzID09IGZhbHNlICYmIGRhdGEuZXJyb3JDb2RlID09ICdFUjAwMDEnKSB7IC8vIEVSMDAwMTogc2Vzc2lvbiB0aW1lIG91dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRoZW50aWNhdGUubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcmVkLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJlZC5yZWplY3QoZXJyKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZlcmVkLnByb21pc2UuYWJvcnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlcmVkLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQWRtaW5BcHAnKVxyXG4gICAgICAgIC5maWx0ZXIoJ3Byb3BzRmlsdGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtcywgcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdmFyIG91dCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpdGVtcykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1NYXRjaGVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gcHJvcHNbcHJvcF0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1bcHJvcF0udG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU1hdGNoZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbU1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIExldCB0aGUgb3V0cHV0IGJlIHRoZSBpbnB1dCB1bnRvdWNoZWRcclxuICAgICAgICAgICAgICAgICAgICBvdXQgPSBpdGVtcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdBZG1pbkFwcCcpXHJcblx0XHQuY29udHJvbGxlcignTWFuZ2FDb250cm9sbGVyJywgTWFuZ2FDb250cm9sbGVyKTtcclxuXHJcblx0XHRNYW5nYUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyR1aWJNb2RhbCcsICckZG9jdW1lbnQnLCAnTWFuZ2FTZXJ2aWNlJywgJ01hbmdhR3JpZCddO1xyXG5cclxuXHRcdGZ1bmN0aW9uIE1hbmdhQ29udHJvbGxlcigkc2NvcGUsICR1aWJNb2RhbCwgJGRvY3VtZW50LCBNYW5nYVNlcnZpY2UsIE1hbmdhR3JpZCkge1xyXG5cdFx0XHR2YXIgY3JlYXRlTWFuZ2FNb2RhbDtcclxuXHRcdFx0dmFyIGVkaXRNYW5nYU1vZGFsO1xyXG5cdFx0XHR2YXIgY3VycmVudE1hbmdhSWQ7XHJcblx0XHRcdFxyXG5cdFx0XHQkc2NvcGUucGVyc29ucyA9IFtdO1xyXG5cdFx0XHQkc2NvcGUub3BlbkVkaXRNYW5nYSA9IG9wZW5FZGl0TWFuZ2E7XHJcblx0XHRcdCRzY29wZS5yZW1vdmVNYW5nYSA9IHJlbW92ZU1hbmdhO1xyXG5cdFx0XHQkc2NvcGUudXBkYXRlTWFuZ2EgPSB1cGRhdGVNYW5nYTtcclxuXHRcdFx0JHNjb3BlLmNsb3NlRWRpdE1hbmdhID0gY2xvc2VFZGl0TWFuZ2E7XHJcblx0XHRcdCRzY29wZS5vcGVuQ3JlYXRlTWFuZ2EgPSBvcGVuQ3JlYXRlTWFuZ2E7XHJcblx0XHRcdCRzY29wZS5jbG9zZUNyZWF0ZU1hbmdhID0gY2xvc2VDcmVhdGVNYW5nYTtcclxuXHRcdFx0JHNjb3BlLmFkZE1hbmdhID0gYWRkTWFuZ2E7XHJcblx0XHRcdFxyXG5cdFx0XHQkc2NvcGUucGVvcGxlID0gW1xyXG5cdFx0XHRcdHsgbmFtZTogJ0FkYW0nLCAgICAgIGVtYWlsOiAnYWRhbUBlbWFpbC5jb20nLCAgICAgIGFnZTogMTIsIGNvdW50cnk6ICdVbml0ZWQgU3RhdGVzJyB9LFxyXG5cdFx0XHRcdHsgbmFtZTogJ0FtYWxpZScsICAgIGVtYWlsOiAnYW1hbGllQGVtYWlsLmNvbScsICAgIGFnZTogMTIsIGNvdW50cnk6ICdBcmdlbnRpbmEnIH0sXHJcblx0XHRcdFx0eyBuYW1lOiAnRXN0ZWZhbsOtYScsIGVtYWlsOiAnZXN0ZWZhbmlhQGVtYWlsLmNvbScsIGFnZTogMjEsIGNvdW50cnk6ICdBcmdlbnRpbmEnIH0sXHJcblx0XHRcdFx0eyBuYW1lOiAnQWRyaWFuJywgICAgZW1haWw6ICdhZHJpYW5AZW1haWwuY29tJywgICAgYWdlOiAyMSwgY291bnRyeTogJ0VjdWFkb3InIH0sXHJcblx0XHRcdFx0eyBuYW1lOiAnV2xhZGltaXInLCAgZW1haWw6ICd3bGFkaW1pckBlbWFpbC5jb20nLCAgYWdlOiAzMCwgY291bnRyeTogJ0VjdWFkb3InIH0sXHJcblx0XHRcdFx0eyBuYW1lOiAnU2FtYW50aGEnLCAgZW1haWw6ICdzYW1hbnRoYUBlbWFpbC5jb20nLCAgYWdlOiAzMCwgY291bnRyeTogJ1VuaXRlZCBTdGF0ZXMnIH0sXHJcblx0XHRcdFx0eyBuYW1lOiAnTmljb2xlJywgICAgZW1haWw6ICduaWNvbGVAZW1haWwuY29tJywgICAgYWdlOiA0MywgY291bnRyeTogJ0NvbG9tYmlhJyB9LFxyXG5cdFx0XHRcdHsgbmFtZTogJ05hdGFzaGEnLCAgIGVtYWlsOiAnbmF0YXNoYUBlbWFpbC5jb20nLCAgIGFnZTogNTQsIGNvdW50cnk6ICdFY3VhZG9yJyB9LFxyXG5cdFx0XHRcdHsgbmFtZTogJ01pY2hhZWwnLCAgIGVtYWlsOiAnbWljaGFlbEBlbWFpbC5jb20nLCAgIGFnZTogMTUsIGNvdW50cnk6ICdDb2xvbWJpYScgfSxcclxuXHRcdFx0XHR7IG5hbWU6ICdOaWNvbMOhcycsICAgZW1haWw6ICduaWNvbGFzQGVtYWlsLmNvbScsICAgIGFnZTogNDMsIGNvdW50cnk6ICdDb2xvbWJpYScgfVxyXG5cdFx0XHRdO1xyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdCRzY29wZS5zZWxlY3RlZEF1dGhvciA9IFskc2NvcGUucGVvcGxlWzVdLCAkc2NvcGUucGVvcGxlWzRdXTtcclxuXHJcblx0XHRcdGluaXQoJHNjb3BlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGluaXQoJHNjb3BlKSB7XHJcblx0XHRcdFx0TWFuZ2FHcmlkLmluaXRHcmlkKCRzY29wZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGZ1bmN0aW9uIG9wZW5DcmVhdGVNYW5nYSgpIHtcclxuXHRcdFx0XHR2YXIgcGFyZW50RWxlID0gJGRvY3VtZW50LmZpbmQoJy5tYW5nYS1ncmlkJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Y3JlYXRlTWFuZ2FNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnY3JlYXRlTWFuZ2FNb2RhbC5odG1sJyxcclxuXHRcdFx0XHRcdHNjb3BlOiAkc2NvcGUsXHJcblx0XHRcdFx0XHRzaXplOiAnbGcnLFxyXG5cdFx0XHRcdFx0YXBwZW5kVG86IHBhcmVudEVsZVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRmdW5jdGlvbiBhZGRNYW5nYSgpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0ZnVuY3Rpb24gY2xvc2VDcmVhdGVNYW5nYSgpIHtcclxuXHRcdFx0XHRjcmVhdGVNYW5nYU1vZGFsLmRpc21pc3MoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gb3BlbkVkaXRNYW5nYShtYW5nYUlkKSB7XHJcblx0XHRcdFx0Y3VycmVudE1hbmdhSWQgPSBtYW5nYUlkO1xyXG5cdFx0XHRcdHZhciBwYXJlbnRFbGUgPSAkZG9jdW1lbnQuZmluZCgnLm1hbmdhLWdyaWQnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRlZGl0TWFuZ2FNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnZWRpdE1hbmdhTW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0XHRzY29wZTogJHNjb3BlLFxyXG5cdFx0XHRcdFx0YXBwZW5kVG86IHBhcmVudEVsZVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRmdW5jdGlvbiB1cGRhdGVNYW5nYSgpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygndXBkYXRlJyArIGN1cnJlbnRNYW5nYUlkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0ZnVuY3Rpb24gY2xvc2VFZGl0TWFuZ2EoKSB7XHJcblx0XHRcdFx0ZWRpdE1hbmdhTW9kYWwuZGlzbWlzcygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZW1vdmVNYW5nYShtYW5nYUlkKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3JlbW92ZScpO1xyXG5cdFx0XHR9XHJcblx0XHQgICAgXHJcblx0XHR9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ0FkbWluQXBwJylcclxuXHRcdC5mYWN0b3J5KCdNYW5nYUdyaWQnLCBNYW5nYUdyaWQpO1xyXG5cclxuXHRcdE1hbmdhR3JpZC4kaW5qZWN0ID0gWyckY29tcGlsZScsICdNYW5nYVNlcnZpY2UnLCAnRFRPcHRpb25zQnVpbGRlcicsICdEVENvbHVtbkJ1aWxkZXInLCAnRFRDb2x1bW5EZWZCdWlsZGVyJ107XHJcblxyXG5cdFx0ZnVuY3Rpb24gTWFuZ2FHcmlkKCRjb21waWxlLCBNYW5nYVNlcnZpY2UsIERUT3B0aW9uc0J1aWxkZXIsIERUQ29sdW1uQnVpbGRlciwgRFRDb2x1bW5EZWZCdWlsZGVyKSB7XHJcblxyXG5cdFx0XHR2YXIgTUFOR0FfTElTVF9BUEkgPSBDb25maWcuYXBpRG9tYWluICsgJ21hbmdhcyc7XHJcblxyXG5cdFx0XHR2YXIgc2VydmljZSA9IHtcclxuXHRcdFx0XHRpbml0R3JpZDogaW5pdEdyaWRcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHJldHVybiBzZXJ2aWNlO1xyXG4gXHJcblx0XHRcdGZ1bmN0aW9uIGluaXRHcmlkKCRzY29wZSkge1xyXG5cclxuXHRcdFx0ICAgICRzY29wZS5kdE9wdGlvbnMgPSBEVE9wdGlvbnNCdWlsZGVyLm5ld09wdGlvbnMoKVxyXG5cdFx0XHQgICAgXHQud2l0aE9wdGlvbignYWpheCcsIHtcclxuXHRcdFx0ICAgIFx0XHR1cmw6IE1BTkdBX0xJU1RfQVBJLFxyXG5cdFx0XHQgICAgXHRcdHR5cGU6ICdHRVQnLCBcclxuXHRcdFx0ICAgIFx0XHRkYXRhOiBmdW5jdGlvbiAoZGF0YSwgZHRJbnN0YW5jZSkge1xyXG5cdFx0XHQgICAgXHRcdFx0ZGF0YS5vZmZzZXQgPSBkYXRhLnN0YXJ0O1xyXG5cdFx0XHQgICAgXHRcdFx0ZGF0YS5saW1pdCA9IGRhdGEubGVuZ3RoO1xyXG5cdFx0XHQgICAgXHRcdFx0ZGF0YS5zZWFyY2ggPSBkYXRhLnNlYXJjaC52YWx1ZTtcclxuXHRcdFx0ICAgIFx0XHRcdGRhdGEuY29sdW1uID0gZGF0YS5vcmRlclswXS5jb2x1bW47XHJcblx0XHRcdCAgICBcdFx0XHRkYXRhLm9yZGVyID0gZGF0YS5vcmRlclswXS5kaXI7XHJcblx0XHRcdCAgICBcdFx0fVxyXG5cdFx0XHQgICAgXHR9KVxyXG5cdFx0XHQgICAgXHQud2l0aERhdGFQcm9wKCdkYXRhJylcclxuICAgICBcdFx0XHRcdC53aXRoT3B0aW9uKCdzZXJ2ZXJTaWRlJywgdHJ1ZSlcclxuXHRcdFx0ICAgIFx0LndpdGhQYWdpbmF0aW9uVHlwZSgnc2ltcGxlX251bWJlcnMnKVxyXG5cdCAgICAgICAgICAgICAgICAud2l0aE9wdGlvbignZHJhd0NhbGxiYWNrJywgZHJhd0NhbGxiYWNrLmJpbmQobnVsbCwgJHNjb3BlKSlcclxuXHJcblx0XHRcdCAgICAkc2NvcGUuZHRDb2x1bW5zID0gW1xyXG5cdFx0XHQgICAgICAgIERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4oJ21hbmdhX25hbWUnKSxcclxuXHRcdFx0ICAgICAgICBEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKCdzbHVnJyksXHJcblx0XHRcdCAgICAgICAgRFRDb2x1bW5CdWlsZGVyLm5ld0NvbHVtbigndmlld19jb3VudCcpLFxyXG5cdFx0XHQgICAgICAgIERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4oJ2xpa2VfY291bnQnKSxcclxuXHRcdFx0ICAgICAgICBEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKCdpZCcpLFxyXG5cdFx0XHQgICAgXTtcclxuXHJcblx0XHRcdCAgICAkc2NvcGUuZHRDb2x1bW5EZWZzID0gW1xyXG5cdFx0XHQgICAgICAgIERUQ29sdW1uRGVmQnVpbGRlci5uZXdDb2x1bW5EZWYoMCksXHJcblx0XHRcdCAgICAgICAgRFRDb2x1bW5EZWZCdWlsZGVyLm5ld0NvbHVtbkRlZigxKS5ub3RTb3J0YWJsZSgpLFxyXG5cdFx0XHQgICAgICAgIERUQ29sdW1uRGVmQnVpbGRlci5uZXdDb2x1bW5EZWYoMikubm90U29ydGFibGUoKSxcclxuXHRcdFx0ICAgICAgICBEVENvbHVtbkRlZkJ1aWxkZXIubmV3Q29sdW1uRGVmKDMpLm5vdFNvcnRhYmxlKCksXHJcblx0XHRcdCAgICAgICAgRFRDb2x1bW5EZWZCdWlsZGVyLm5ld0NvbHVtbkRlZig0KS5ub3RTb3J0YWJsZSgpLndpdGhPcHRpb24oJ3dpZHRoJywgJzIwJScpLnJlbmRlcldpdGgoZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGZ1bGwpIHtcclxuXHRcdFx0ICAgICAgICBcdFxyXG5cdFx0XHQgICAgICAgIFx0Ly8gcmV0dXJuIGRhdGE7XHJcblx0XHRcdCAgICAgICAgXHRyZXR1cm4gcmVuZGVyQWN0aW9uKGRhdGEpO1xyXG5cdFx0XHQgICAgICAgIH0pXHJcblx0XHRcdCAgICBdO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVuZGVyQWN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHR2YXIgYnV0dG9uID0gJzxkaXYgY2xhc3M9XCJhY3Rpb25cIj4nICtcclxuXHRcdFx0XHRcdFx0XHQgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IHVwZGF0ZVwiIG5nLWNsaWNrPVwib3BlbkVkaXRNYW5nYSgnKyBkYXRhICsnKVwiPkVkaXQ8L2J1dHRvbj4gJyArXHJcblx0XHRcdFx0XHRcdCAgICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlXCIgIG5nLWNsaWNrPVwicmVtb3ZlTWFuZ2EoJysgZGF0YSArJylcIj5SZW1vdmU8L2J1dHRvbj4nICtcclxuXHRcdFx0XHRcdFx0ICAgICAnPC9kaXY+JztcclxuXHJcblx0XHRcdFx0cmV0dXJuIGJ1dHRvbjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZHJhd0NhbGxiYWNrKCRzY29wZSwgZGF0YSkge1xyXG5cdFx0XHRcdHZhciBhY3Rpb25FbGUgPSBhbmd1bGFyLmVsZW1lbnQoJy5hY3Rpb24nKTtcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2goIGFjdGlvbkVsZSwgZnVuY3Rpb24gKGVsZSkge1xyXG5cdFx0XHRcdFx0dmFyIHRlbXBsYXRlID0gJGNvbXBpbGUoYW5ndWxhci5lbGVtZW50KGVsZSkuaHRtbCgpKSgkc2NvcGUpO1xyXG5cdFx0XHRcdFx0YW5ndWxhci5lbGVtZW50KGVsZSkuaHRtbCh0ZW1wbGF0ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnQWRtaW5BcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ01hbmdhU2VydmljZScsIE1hbmdhU2VydmljZSk7XHJcblxyXG5cdFx0TWFuZ2FTZXJ2aWNlLiRpbmplY3QgPSBbXTtcclxuXHJcblx0XHRmdW5jdGlvbiBNYW5nYVNlcnZpY2UoKSB7XHJcblx0XHRcdHZhciBzZXJ2aWNlID0ge1xyXG5cdFx0XHRcdGdldDogZ2V0XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gc2VydmljZTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldCgpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnZ2V0IGZyb20gc3YnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
