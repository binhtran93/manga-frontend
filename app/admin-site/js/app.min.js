function configRouter(n,e){e.otherwise("/"),n.state("manga",{url:"/manga",templateUrl:"admin-site/scripts/components/manga/MangaView.html",controller:"MangaController"})}var AdminApp=angular.module("AdminApp",["ui.router","datatables","ui.bootstrap","ui.select"]);AdminApp.config(configRouter),configRouter.$inject=["$stateProvider","$urlRouterProvider"];var Config=function(){return{apiDomain:"http://manga-backend.local/"}}();!function(){function n(n,e,a,t){function o(n,e){return this.send("GET",n,e)}function i(n,e){return this.send("POST",n,e)}function r(a,t,o){var i=e.defer(),r={method:a,url:t,timeout:i.promise,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(n){var e=[];for(var a in n)e.push(encodeURIComponent(a)+"="+encodeURIComponent(n[a]));return e.join("&")}};return"POST"==a.toUpperCase()?r.data=o:"GET"==a.toUpperCase()&&(r.params=o),n(r).then(function(n){var e=n.data;return 0==e.success&&"ER0001"==e.errorCode?void Authenticate.logout():i.resolve(n.data)}).catch(function(n){return i.reject(n)}),i.promise.abort=function(){i.resolve()},i.promise}var l={get:o,post:i,send:r};return l}angular.module("AdminApp").factory("Request",n),n.$inject=["$http","$q","$cookies","$window"]}(),function(){angular.module("AdminApp").filter("propsFilter",function(){return function(n,e){var a=[];if(angular.isArray(n)){var t=Object.keys(e);n.forEach(function(n){for(var o=!1,i=0;i<t.length;i++){var r=t[i],l=e[r].toLowerCase();if(n[r].toString().toLowerCase().indexOf(l)!==-1){o=!0;break}}o&&a.push(n)})}else a=n;return a}})}(),function(){function n(n,e,a,t,o){function i(n){o.initGrid(n)}function r(){var t=a.find(".manga-grid");p=e.open({templateUrl:"createMangaModal.html",scope:n,size:"lg",appendTo:t})}function l(){}function u(){p.dismiss()}function m(t){f=t;var o=a.find(".manga-grid");g=e.open({templateUrl:"editMangaModal.html",scope:n,appendTo:o})}function c(){console.log("update"+f)}function d(){g.dismiss()}function s(n){console.log("remove")}var p,g,f;n.persons=[],n.openEditManga=m,n.removeManga=s,n.updateManga=c,n.closeEditManga=d,n.openCreateManga=r,n.closeCreateManga=u,n.addManga=l,n.people=[{name:"Adam",email:"adam@email.com",age:12,country:"United States"},{name:"Amalie",email:"amalie@email.com",age:12,country:"Argentina"},{name:"Estefanía",email:"estefania@email.com",age:21,country:"Argentina"},{name:"Adrian",email:"adrian@email.com",age:21,country:"Ecuador"},{name:"Wladimir",email:"wladimir@email.com",age:30,country:"Ecuador"},{name:"Samantha",email:"samantha@email.com",age:30,country:"United States"},{name:"Nicole",email:"nicole@email.com",age:43,country:"Colombia"},{name:"Natasha",email:"natasha@email.com",age:54,country:"Ecuador"},{name:"Michael",email:"michael@email.com",age:15,country:"Colombia"},{name:"Nicolás",email:"nicolas@email.com",age:43,country:"Colombia"}],n.selectedAuthor=[n.people[5],n.people[4]],i(n)}angular.module("AdminApp").controller("MangaController",n),n.$inject=["$scope","$uibModal","$document","MangaService","MangaGrid"]}(),function(){function n(n,e,a,t,o){function i(n){n.dtOptions=a.newOptions().withOption("ajax",{url:u,type:"GET",data:function(n,e){n.offset=n.start,n.limit=n.length,n.search=n.search.value,n.column=n.order[0].column,n.order=n.order[0].dir}}).withDataProp("data").withOption("serverSide",!0).withPaginationType("simple_numbers").withOption("drawCallback",l.bind(null,n)),n.dtColumns=[t.newColumn("manga_name"),t.newColumn("slug"),t.newColumn("view_count"),t.newColumn("like_count"),t.newColumn("id")],n.dtColumnDefs=[o.newColumnDef(0),o.newColumnDef(1).notSortable(),o.newColumnDef(2).notSortable(),o.newColumnDef(3).notSortable(),o.newColumnDef(4).notSortable().withOption("width","20%").renderWith(function(n,e,a){return r(n)})]}function r(n){var e='<div class="action"><button type="button" class="btn btn-primary update" ng-click="openEditManga('+n+')">Edit</button> <button type="button" class="btn btn-danger remove"  ng-click="removeManga('+n+')">Remove</button></div>';return e}function l(e,a){var t=angular.element(".action");angular.forEach(t,function(a){var t=n(angular.element(a).html())(e);angular.element(a).html(t)})}var u=Config.apiDomain+"mangas",m={initGrid:i};return m}angular.module("AdminApp").factory("MangaGrid",n),n.$inject=["$compile","MangaService","DTOptionsBuilder","DTColumnBuilder","DTColumnDefBuilder"]}(),function(){function n(){function n(){console.log("get from sv")}var e={get:n};return e}angular.module("AdminApp").factory("MangaService",n),n.$inject=[]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbmZpZy5qcyIsInNoYXJlZC9SZXF1ZXN0LmpzIiwic2hhcmVkL2ZpbHRlcnMvcHJvcHNGaWx0ZXIuanMiLCJjb21wb25lbnRzL21hbmdhL01hbmdhQ29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvbWFuZ2EvTWFuZ2FHcmlkLmpzIiwiY29tcG9uZW50cy9tYW5nYS9NYW5nYVNlcnZpY2UuanMiXSwibmFtZXMiOlsiY29uZmlnUm91dGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIkFkbWluQXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRpbmplY3QiLCJDb25maWciLCJhcGlEb21haW4iLCJSZXF1ZXN0IiwiJGh0dHAiLCIkcSIsIiRjb29raWVzIiwiJHdpbmRvdyIsImdldCIsImRhdGEiLCJ0aGlzIiwic2VuZCIsInBvc3QiLCJtZXRob2QiLCJkZWZlcmVkIiwiZGVmZXIiLCJvcHRpb25zIiwidGltZW91dCIsInByb21pc2UiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwidHJhbnNmb3JtUmVxdWVzdCIsIm9iaiIsInN0ciIsInAiLCJwdXNoIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwiam9pbiIsInRvVXBwZXJDYXNlIiwicGFyYW1zIiwidGhlbiIsInJlc3BvbnNlIiwic3VjY2VzcyIsImVycm9yQ29kZSIsIkF1dGhlbnRpY2F0ZSIsImxvZ291dCIsInJlc29sdmUiLCJjYXRjaCIsImVyciIsInJlamVjdCIsImFib3J0Iiwic2VydmljZSIsImZhY3RvcnkiLCJmaWx0ZXIiLCJpdGVtcyIsInByb3BzIiwib3V0IiwiaXNBcnJheSIsImtleXMiLCJPYmplY3QiLCJmb3JFYWNoIiwiaXRlbSIsIml0ZW1NYXRjaGVzIiwiaSIsImxlbmd0aCIsInByb3AiLCJ0ZXh0IiwidG9Mb3dlckNhc2UiLCJ0b1N0cmluZyIsImluZGV4T2YiLCJNYW5nYUNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkdWliTW9kYWwiLCIkZG9jdW1lbnQiLCJNYW5nYVNlcnZpY2UiLCJNYW5nYUdyaWQiLCJpbml0IiwiaW5pdEdyaWQiLCJvcGVuQ3JlYXRlTWFuZ2EiLCJwYXJlbnRFbGUiLCJmaW5kIiwiY3JlYXRlTWFuZ2FNb2RhbCIsIm9wZW4iLCJzY29wZSIsInNpemUiLCJhcHBlbmRUbyIsImFkZE1hbmdhIiwiY2xvc2VDcmVhdGVNYW5nYSIsImRpc21pc3MiLCJvcGVuRWRpdE1hbmdhIiwibWFuZ2FJZCIsImN1cnJlbnRNYW5nYUlkIiwiZWRpdE1hbmdhTW9kYWwiLCJ1cGRhdGVNYW5nYSIsImNvbnNvbGUiLCJsb2ciLCJjbG9zZUVkaXRNYW5nYSIsInJlbW92ZU1hbmdhIiwicGVyc29ucyIsInBlb3BsZSIsIm5hbWUiLCJlbWFpbCIsImFnZSIsImNvdW50cnkiLCJzZWxlY3RlZEF1dGhvciIsIiRjb21waWxlIiwiRFRPcHRpb25zQnVpbGRlciIsIkRUQ29sdW1uQnVpbGRlciIsIkRUQ29sdW1uRGVmQnVpbGRlciIsImR0T3B0aW9ucyIsIm5ld09wdGlvbnMiLCJ3aXRoT3B0aW9uIiwiTUFOR0FfTElTVF9BUEkiLCJ0eXBlIiwiZHRJbnN0YW5jZSIsIm9mZnNldCIsInN0YXJ0IiwibGltaXQiLCJzZWFyY2giLCJ2YWx1ZSIsImNvbHVtbiIsIm9yZGVyIiwiZGlyIiwid2l0aERhdGFQcm9wIiwid2l0aFBhZ2luYXRpb25UeXBlIiwiZHJhd0NhbGxiYWNrIiwiYmluZCIsImR0Q29sdW1ucyIsIm5ld0NvbHVtbiIsImR0Q29sdW1uRGVmcyIsIm5ld0NvbHVtbkRlZiIsIm5vdFNvcnRhYmxlIiwicmVuZGVyV2l0aCIsImZ1bGwiLCJyZW5kZXJBY3Rpb24iLCJidXR0b24iLCJhY3Rpb25FbGUiLCJlbGVtZW50IiwiZWxlIiwidGVtcGxhdGUiLCJodG1sIl0sIm1hcHBpbmdzIjoiQUFNQSxRQUFBQSxjQUFBQyxFQUFBQyxHQUNBQSxFQUFB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LFNBRUF1QyxHQUNBMEIsU0FBQUEsRUFHQSxPQUFBMUIsR0FkQTVDLFFBQ0FDLE9BQUEsWUFDQTRDLFFBQUEsWUFBQXVCLEdBRUFBLEVBQUFqRSxTQUFBLFdBQUEsZUFBQSxtQkFBQSxrQkFBQSx5QkNOQSxXQVFBLFFBQUFnRSxLQU9BLFFBQUF4RCxLQUNBNEUsUUFBQUMsSUFBQSxlQVBBLEdBQUE1QyxJQUNBakMsSUFBQUEsRUFHQSxPQUFBaUMsR0FYQTVDLFFBQ0FDLE9BQUEsWUFDQTRDLFFBQUEsZUFBQXNCLEdBRUFBLEVBQUFoRSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbnZhciBBZG1pbkFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiQWRtaW5BcHBcIiwgWyd1aS5yb3V0ZXInLCAnZGF0YXRhYmxlcycsICd1aS5ib290c3RyYXAnLCAndWkuc2VsZWN0J10pO1xyXG5cdEFkbWluQXBwLmNvbmZpZyhjb25maWdSb3V0ZXIpO1xyXG5cclxuXHRjb25maWdSb3V0ZXIuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ107XHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZ1JvdXRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7IFxyXG5cclxuXHRcdCRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdtYW5nYScsIHtcclxuXHRcdFx0dXJsOiAnL21hbmdhJyxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhZG1pbi1zaXRlL3NjcmlwdHMvY29tcG9uZW50cy9tYW5nYS9NYW5nYVZpZXcuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6IFwiTWFuZ2FDb250cm9sbGVyXCJcclxuXHRcdH0pO1xyXG5cdH0iLCJ2YXIgQ29uZmlnID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0YXBpRG9tYWluOiAnaHR0cDovL21hbmdhLWJhY2tlbmQubG9jYWwvJ1xyXG5cdH1cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ0FkbWluQXBwJylcclxuICAgICAgICAuZmFjdG9yeSgnUmVxdWVzdCcsIFJlcXVlc3QpO1xyXG5cclxuICAgICAgICBSZXF1ZXN0LiRpbmplY3QgPSBbJyRodHRwJywgJyRxJywgJyRjb29raWVzJywgJyR3aW5kb3cnXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gUmVxdWVzdCAoJGh0dHAsICRxLCAkY29va2llcywgJHdpbmRvdykge1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGdldCxcclxuICAgICAgICAgICAgICAgIHBvc3Q6IHBvc3QsXHJcbiAgICAgICAgICAgICAgICBzZW5kOiBzZW5kXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlOyBcclxuXHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0U3RvcmUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldCh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoJ0dFVCcsIHVybCwgZGF0YSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcG9zdCh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQoJ1BPU1QnLCB1cmwsIGRhdGEpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNlbmQobWV0aG9kLCB1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZWZlcmVkID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBkZWZlcmVkLnByb21pc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ30sXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBwIGluIG9iailcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ci5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtwXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLnRvVXBwZXJDYXNlKCkgPT0gJ1BPU1QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWV0aG9kLnRvVXBwZXJDYXNlKCkgPT0gJ0dFVCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmFtcyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRodHRwKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzID09IGZhbHNlICYmIGRhdGEuZXJyb3JDb2RlID09ICdFUjAwMDEnKSB7IC8vIEVSMDAwMTogc2Vzc2lvbiB0aW1lIG91dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRoZW50aWNhdGUubG9nb3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcmVkLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJlZC5yZWplY3QoZXJyKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZlcmVkLnByb21pc2UuYWJvcnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlcmVkLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJlZC5wcm9taXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQWRtaW5BcHAnKVxyXG4gICAgICAgIC5maWx0ZXIoJ3Byb3BzRmlsdGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtcywgcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoaXRlbXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtTWF0Y2hlcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHByb3BzW3Byb3BdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVtwcm9wXS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0ZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtTWF0Y2hlcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtTWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTGV0IHRoZSBvdXRwdXQgYmUgdGhlIGlucHV0IHVudG91Y2hlZFxyXG4gICAgICAgICAgICAgICAgICAgIG91dCA9IGl0ZW1zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ0FkbWluQXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdNYW5nYUNvbnRyb2xsZXInLCBNYW5nYUNvbnRyb2xsZXIpO1xyXG5cclxuXHRcdE1hbmdhQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHVpYk1vZGFsJywgJyRkb2N1bWVudCcsICdNYW5nYVNlcnZpY2UnLCAnTWFuZ2FHcmlkJ107XHJcblxyXG5cdFx0ZnVuY3Rpb24gTWFuZ2FDb250cm9sbGVyKCRzY29wZSwgJHVpYk1vZGFsLCAkZG9jdW1lbnQsIE1hbmdhU2VydmljZSwgTWFuZ2FHcmlkKSB7XHJcblx0XHRcdHZhciBjcmVhdGVNYW5nYU1vZGFsO1xyXG5cdFx0XHR2YXIgZWRpdE1hbmdhTW9kYWw7XHJcblx0XHRcdHZhciBjdXJyZW50TWFuZ2FJZDtcclxuXHRcdFx0XHJcblx0XHRcdCRzY29wZS5wZXJzb25zID0gW107XHJcblx0XHRcdCRzY29wZS5vcGVuRWRpdE1hbmdhID0gb3BlbkVkaXRNYW5nYTtcclxuXHRcdFx0JHNjb3BlLnJlbW92ZU1hbmdhID0gcmVtb3ZlTWFuZ2E7XHJcblx0XHRcdCRzY29wZS51cGRhdGVNYW5nYSA9IHVwZGF0ZU1hbmdhO1xyXG5cdFx0XHQkc2NvcGUuY2xvc2VFZGl0TWFuZ2EgPSBjbG9zZUVkaXRNYW5nYTtcclxuXHRcdFx0JHNjb3BlLm9wZW5DcmVhdGVNYW5nYSA9IG9wZW5DcmVhdGVNYW5nYTtcclxuXHRcdFx0JHNjb3BlLmNsb3NlQ3JlYXRlTWFuZ2EgPSBjbG9zZUNyZWF0ZU1hbmdhO1xyXG5cdFx0XHQkc2NvcGUuYWRkTWFuZ2EgPSBhZGRNYW5nYTtcclxuXHRcdFx0XHJcblx0XHRcdCRzY29wZS5wZW9wbGUgPSBbXHJcblx0XHRcdFx0eyBuYW1lOiAnQWRhbScsICAgICAgZW1haWw6ICdhZGFtQGVtYWlsLmNvbScsICAgICAgYWdlOiAxMiwgY291bnRyeTogJ1VuaXRlZCBTdGF0ZXMnIH0sXHJcblx0XHRcdFx0eyBuYW1lOiAnQW1hbGllJywgICAgZW1haWw6ICdhbWFsaWVAZW1haWwuY29tJywgICAgYWdlOiAxMiwgY291bnRyeTogJ0FyZ2VudGluYScgfSxcclxuXHRcdFx0XHR7IG5hbWU6ICdFc3RlZmFuw61hJywgZW1haWw6ICdlc3RlZmFuaWFAZW1haWwuY29tJywgYWdlOiAyMSwgY291bnRyeTogJ0FyZ2VudGluYScgfSxcclxuXHRcdFx0XHR7IG5hbWU6ICdBZHJpYW4nLCAgICBlbWFpbDogJ2FkcmlhbkBlbWFpbC5jb20nLCAgICBhZ2U6IDIxLCBjb3VudHJ5OiAnRWN1YWRvcicgfSxcclxuXHRcdFx0XHR7IG5hbWU6ICdXbGFkaW1pcicsICBlbWFpbDogJ3dsYWRpbWlyQGVtYWlsLmNvbScsICBhZ2U6IDMwLCBjb3VudHJ5OiAnRWN1YWRvcicgfSxcclxuXHRcdFx0XHR7IG5hbWU6ICdTYW1hbnRoYScsICBlbWFpbDogJ3NhbWFudGhhQGVtYWlsLmNvbScsICBhZ2U6IDMwLCBjb3VudHJ5OiAnVW5pdGVkIFN0YXRlcycgfSxcclxuXHRcdFx0XHR7IG5hbWU6ICdOaWNvbGUnLCAgICBlbWFpbDogJ25pY29sZUBlbWFpbC5jb20nLCAgICBhZ2U6IDQzLCBjb3VudHJ5OiAnQ29sb21iaWEnIH0sXHJcblx0XHRcdFx0eyBuYW1lOiAnTmF0YXNoYScsICAgZW1haWw6ICduYXRhc2hhQGVtYWlsLmNvbScsICAgYWdlOiA1NCwgY291bnRyeTogJ0VjdWFkb3InIH0sXHJcblx0XHRcdFx0eyBuYW1lOiAnTWljaGFlbCcsICAgZW1haWw6ICdtaWNoYWVsQGVtYWlsLmNvbScsICAgYWdlOiAxNSwgY291bnRyeTogJ0NvbG9tYmlhJyB9LFxyXG5cdFx0XHRcdHsgbmFtZTogJ05pY29sw6FzJywgICBlbWFpbDogJ25pY29sYXNAZW1haWwuY29tJywgICAgYWdlOiA0MywgY291bnRyeTogJ0NvbG9tYmlhJyB9XHJcblx0XHRcdF07XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0JHNjb3BlLnNlbGVjdGVkQXV0aG9yID0gWyRzY29wZS5wZW9wbGVbNV0sICRzY29wZS5wZW9wbGVbNF1dO1xyXG5cclxuXHRcdFx0aW5pdCgkc2NvcGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gaW5pdCgkc2NvcGUpIHtcclxuXHRcdFx0XHRNYW5nYUdyaWQuaW5pdEdyaWQoJHNjb3BlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0ZnVuY3Rpb24gb3BlbkNyZWF0ZU1hbmdhKCkge1xyXG5cdFx0XHRcdHZhciBwYXJlbnRFbGUgPSAkZG9jdW1lbnQuZmluZCgnLm1hbmdhLWdyaWQnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjcmVhdGVNYW5nYU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdjcmVhdGVNYW5nYU1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdFx0c2NvcGU6ICRzY29wZSxcclxuXHRcdFx0XHRcdHNpemU6ICdsZycsXHJcblx0XHRcdFx0XHRhcHBlbmRUbzogcGFyZW50RWxlXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGZ1bmN0aW9uIGFkZE1hbmdhKCkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRmdW5jdGlvbiBjbG9zZUNyZWF0ZU1hbmdhKCkge1xyXG5cdFx0XHRcdGNyZWF0ZU1hbmdhTW9kYWwuZGlzbWlzcygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBvcGVuRWRpdE1hbmdhKG1hbmdhSWQpIHtcclxuXHRcdFx0XHRjdXJyZW50TWFuZ2FJZCA9IG1hbmdhSWQ7XHJcblx0XHRcdFx0dmFyIHBhcmVudEVsZSA9ICRkb2N1bWVudC5maW5kKCcubWFuZ2EtZ3JpZCcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGVkaXRNYW5nYU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdlZGl0TWFuZ2FNb2RhbC5odG1sJyxcclxuXHRcdFx0XHRcdHNjb3BlOiAkc2NvcGUsXHJcblx0XHRcdFx0XHRhcHBlbmRUbzogcGFyZW50RWxlXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZU1hbmdhKCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCd1cGRhdGUnICsgY3VycmVudE1hbmdhSWQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRmdW5jdGlvbiBjbG9zZUVkaXRNYW5nYSgpIHtcclxuXHRcdFx0XHRlZGl0TWFuZ2FNb2RhbC5kaXNtaXNzKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHJlbW92ZU1hbmdhKG1hbmdhSWQpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygncmVtb3ZlJyk7XHJcblx0XHRcdH1cclxuXHRcdCAgICBcclxuXHRcdH1cclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnQWRtaW5BcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ01hbmdhR3JpZCcsIE1hbmdhR3JpZCk7XHJcblxyXG5cdFx0TWFuZ2FHcmlkLiRpbmplY3QgPSBbJyRjb21waWxlJywgJ01hbmdhU2VydmljZScsICdEVE9wdGlvbnNCdWlsZGVyJywgJ0RUQ29sdW1uQnVpbGRlcicsICdEVENvbHVtbkRlZkJ1aWxkZXInXTtcclxuXHJcblx0XHRmdW5jdGlvbiBNYW5nYUdyaWQoJGNvbXBpbGUsIE1hbmdhU2VydmljZSwgRFRPcHRpb25zQnVpbGRlciwgRFRDb2x1bW5CdWlsZGVyLCBEVENvbHVtbkRlZkJ1aWxkZXIpIHtcclxuXHJcblx0XHRcdHZhciBNQU5HQV9MSVNUX0FQSSA9IENvbmZpZy5hcGlEb21haW4gKyAnbWFuZ2FzJztcclxuXHJcblx0XHRcdHZhciBzZXJ2aWNlID0ge1xyXG5cdFx0XHRcdGluaXRHcmlkOiBpbml0R3JpZFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIHNlcnZpY2U7XHJcbiBcclxuXHRcdFx0ZnVuY3Rpb24gaW5pdEdyaWQoJHNjb3BlKSB7XHJcblxyXG5cdFx0XHQgICAgJHNjb3BlLmR0T3B0aW9ucyA9IERUT3B0aW9uc0J1aWxkZXIubmV3T3B0aW9ucygpXHJcblx0XHRcdCAgICBcdC53aXRoT3B0aW9uKCdhamF4Jywge1xyXG5cdFx0XHQgICAgXHRcdHVybDogTUFOR0FfTElTVF9BUEksXHJcblx0XHRcdCAgICBcdFx0dHlwZTogJ0dFVCcsIFxyXG5cdFx0XHQgICAgXHRcdGRhdGE6IGZ1bmN0aW9uIChkYXRhLCBkdEluc3RhbmNlKSB7XHJcblx0XHRcdCAgICBcdFx0XHRkYXRhLm9mZnNldCA9IGRhdGEuc3RhcnQ7XHJcblx0XHRcdCAgICBcdFx0XHRkYXRhLmxpbWl0ID0gZGF0YS5sZW5ndGg7XHJcblx0XHRcdCAgICBcdFx0XHRkYXRhLnNlYXJjaCA9IGRhdGEuc2VhcmNoLnZhbHVlO1xyXG5cdFx0XHQgICAgXHRcdFx0ZGF0YS5jb2x1bW4gPSBkYXRhLm9yZGVyWzBdLmNvbHVtbjtcclxuXHRcdFx0ICAgIFx0XHRcdGRhdGEub3JkZXIgPSBkYXRhLm9yZGVyWzBdLmRpcjtcclxuXHRcdFx0ICAgIFx0XHR9XHJcblx0XHRcdCAgICBcdH0pXHJcblx0XHRcdCAgICBcdC53aXRoRGF0YVByb3AoJ2RhdGEnKVxyXG4gICAgIFx0XHRcdFx0LndpdGhPcHRpb24oJ3NlcnZlclNpZGUnLCB0cnVlKVxyXG5cdFx0XHQgICAgXHQud2l0aFBhZ2luYXRpb25UeXBlKCdzaW1wbGVfbnVtYmVycycpXHJcblx0ICAgICAgICAgICAgICAgIC53aXRoT3B0aW9uKCdkcmF3Q2FsbGJhY2snLCBkcmF3Q2FsbGJhY2suYmluZChudWxsLCAkc2NvcGUpKVxyXG5cclxuXHRcdFx0ICAgICRzY29wZS5kdENvbHVtbnMgPSBbXHJcblx0XHRcdCAgICAgICAgRFRDb2x1bW5CdWlsZGVyLm5ld0NvbHVtbignbWFuZ2FfbmFtZScpLFxyXG5cdFx0XHQgICAgICAgIERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4oJ3NsdWcnKSxcclxuXHRcdFx0ICAgICAgICBEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKCd2aWV3X2NvdW50JyksXHJcblx0XHRcdCAgICAgICAgRFRDb2x1bW5CdWlsZGVyLm5ld0NvbHVtbignbGlrZV9jb3VudCcpLFxyXG5cdFx0XHQgICAgICAgIERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4oJ2lkJyksXHJcblx0XHRcdCAgICBdO1xyXG5cclxuXHRcdFx0ICAgICRzY29wZS5kdENvbHVtbkRlZnMgPSBbXHJcblx0XHRcdCAgICAgICAgRFRDb2x1bW5EZWZCdWlsZGVyLm5ld0NvbHVtbkRlZigwKSxcclxuXHRcdFx0ICAgICAgICBEVENvbHVtbkRlZkJ1aWxkZXIubmV3Q29sdW1uRGVmKDEpLm5vdFNvcnRhYmxlKCksXHJcblx0XHRcdCAgICAgICAgRFRDb2x1bW5EZWZCdWlsZGVyLm5ld0NvbHVtbkRlZigyKS5ub3RTb3J0YWJsZSgpLFxyXG5cdFx0XHQgICAgICAgIERUQ29sdW1uRGVmQnVpbGRlci5uZXdDb2x1bW5EZWYoMykubm90U29ydGFibGUoKSxcclxuXHRcdFx0ICAgICAgICBEVENvbHVtbkRlZkJ1aWxkZXIubmV3Q29sdW1uRGVmKDQpLm5vdFNvcnRhYmxlKCkud2l0aE9wdGlvbignd2lkdGgnLCAnMjAlJykucmVuZGVyV2l0aChmdW5jdGlvbiAoZGF0YSwgdHlwZSwgZnVsbCkge1xyXG5cdFx0XHQgICAgICAgIFx0XHJcblx0XHRcdCAgICAgICAgXHQvLyByZXR1cm4gZGF0YTtcclxuXHRcdFx0ICAgICAgICBcdHJldHVybiByZW5kZXJBY3Rpb24oZGF0YSk7XHJcblx0XHRcdCAgICAgICAgfSlcclxuXHRcdFx0ICAgIF07XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZW5kZXJBY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdHZhciBidXR0b24gPSAnPGRpdiBjbGFzcz1cImFjdGlvblwiPicgK1xyXG5cdFx0XHRcdFx0XHRcdCAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgdXBkYXRlXCIgbmctY2xpY2s9XCJvcGVuRWRpdE1hbmdhKCcrIGRhdGEgKycpXCI+RWRpdDwvYnV0dG9uPiAnICtcclxuXHRcdFx0XHRcdFx0ICAgICAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlciByZW1vdmVcIiAgbmctY2xpY2s9XCJyZW1vdmVNYW5nYSgnKyBkYXRhICsnKVwiPlJlbW92ZTwvYnV0dG9uPicgK1xyXG5cdFx0XHRcdFx0XHQgICAgICc8L2Rpdj4nO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYnV0dG9uO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBkcmF3Q2FsbGJhY2soJHNjb3BlLCBkYXRhKSB7XHJcblx0XHRcdFx0dmFyIGFjdGlvbkVsZSA9IGFuZ3VsYXIuZWxlbWVudCgnLmFjdGlvbicpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCggYWN0aW9uRWxlLCBmdW5jdGlvbiAoZWxlKSB7XHJcblx0XHRcdFx0XHR2YXIgdGVtcGxhdGUgPSAkY29tcGlsZShhbmd1bGFyLmVsZW1lbnQoZWxlKS5odG1sKCkpKCRzY29wZSk7XHJcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZWxlKS5odG1sKHRlbXBsYXRlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdBZG1pbkFwcCcpXHJcblx0XHQuZmFjdG9yeSgnTWFuZ2FTZXJ2aWNlJywgTWFuZ2FTZXJ2aWNlKTtcclxuXHJcblx0XHRNYW5nYVNlcnZpY2UuJGluamVjdCA9IFtdO1xyXG5cclxuXHRcdGZ1bmN0aW9uIE1hbmdhU2VydmljZSgpIHtcclxuXHRcdFx0dmFyIHNlcnZpY2UgPSB7XHJcblx0XHRcdFx0Z2V0OiBnZXRcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHJldHVybiBzZXJ2aWNlO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0KCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdnZXQgZnJvbSBzdicpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
